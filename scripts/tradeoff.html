<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Tradeoff analysis</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,700&display=swap" rel="stylesheet">
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3@5.15.0/dist/d3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega@5.9.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@4.0.2"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.2.1"></script>

    <style>
    #vis {
        width: 100%;
        margin: 1em;
    }
    </style>
  </head>
  <body>
  <section class="section">
    <div class="container">
      <h1 class="title">
        Tradeoff analysis
      </h1>
      <p class="subtitle">
        The left plot shows a 2D histogram of growth rates on the log-scale
        across samples for each tradeoff value. Zero growth rates have been
        set to 1e-6 in this plot to make them visible.<br>
        The right plot denotes the fraction of taxa that grow (growth rate larger
        1e-6) in each sample. Each point denotes a single sample under a given
        tradeoff value. The red line denotes the median across all samples. You
        can click on a point to show only points from that particular sample.
        <br>
        Use the "..." menu in the
        upper right hand side to export the plot into various formats.
      </p>
    </div>
    <!-- Container for the visualization -->
    <div class="container">
    <div id="vis"></div>
    <a href="#" class="button is-primary" onclick="download_data('tradeoff')">Download as CSV...</a>

    </div>
    <script>
      // Assign the specification to a local variable vlSpec.
      var vlSpec = {
        $schema: "https://vega.github.io/schema/vega-lite/v4.json",
        hconcat: [
        {
            width: 400,
            height: 300,
            data: {
                values: [{"taxon":"Escherichia_coli_2","sample_id":"sample_2","abundance":0.3678894205,"tradeoff":"none","growth_rate":0.8082300428,"log_growth_rate":-0.0924650104},{"taxon":"Escherichia_coli_3","sample_id":"sample_2","abundance":0.4343434343,"tradeoff":"none","growth_rate":0.9390237304,"log_growth_rate":-0.0273234324},{"taxon":"Escherichia_coli_4","sample_id":"sample_2","abundance":0.1977671451,"tradeoff":"none","growth_rate":0.4762845961,"log_growth_rate":-0.3221334641},{"taxon":"Escherichia_coli_2","sample_id":"sample_2","abundance":0.3678894205,"tradeoff":"1.0","growth_rate":0.8101214402,"log_growth_rate":-0.0914498739},{"taxon":"Escherichia_coli_3","sample_id":"sample_2","abundance":0.4343434343,"tradeoff":"1.0","growth_rate":0.9564584056,"log_growth_rate":-0.0193339118},{"taxon":"Escherichia_coli_4","sample_id":"sample_2","abundance":0.1977671451,"tradeoff":"1.0","growth_rate":0.4354988089,"log_growth_rate":-0.3610130285},{"taxon":"Escherichia_coli_2","sample_id":"sample_2","abundance":0.3678894205,"tradeoff":"0.9","growth_rate":0.7250484562,"log_growth_rate":-0.1396329678},{"taxon":"Escherichia_coli_3","sample_id":"sample_2","abundance":0.4343434343,"tradeoff":"0.9","growth_rate":0.8559461163,"log_growth_rate":-0.0675535743},{"taxon":"Escherichia_coli_4","sample_id":"sample_2","abundance":0.1977671451,"tradeoff":"0.9","growth_rate":0.3897659331,"log_growth_rate":-0.4091961224},{"taxon":"Escherichia_coli_2","sample_id":"sample_2","abundance":0.3678894205,"tradeoff":"0.8","growth_rate":0.6447088929,"log_growth_rate":-0.1906363392},{"taxon":"Escherichia_coli_3","sample_id":"sample_2","abundance":0.4343434343,"tradeoff":"0.8","growth_rate":0.7611664241,"log_growth_rate":-0.1185203772},{"taxon":"Escherichia_coli_4","sample_id":"sample_2","abundance":0.1977671451,"tradeoff":"0.8","growth_rate":0.3465776252,"log_growth_rate":-0.4601994785},{"taxon":"Escherichia_coli_2","sample_id":"sample_2","abundance":0.3678894205,"tradeoff":"0.7","growth_rate":0.5718110414,"log_growth_rate":-0.2427474628},{"taxon":"Escherichia_coli_3","sample_id":"sample_2","abundance":0.4343434343,"tradeoff":"0.7","growth_rate":0.675103427,"log_growth_rate":-0.1706296874},{"taxon":"Escherichia_coli_4","sample_id":"sample_2","abundance":0.1977671451,"tradeoff":"0.7","growth_rate":0.3073828717,"log_growth_rate":-0.5123203364},{"taxon":"Escherichia_coli_2","sample_id":"sample_2","abundance":0.3678894205,"tradeoff":"0.6","growth_rate":0.4905913159,"log_growth_rate":-0.3092801436},{"taxon":"Escherichia_coli_3","sample_id":"sample_2","abundance":0.4343434343,"tradeoff":"0.6","growth_rate":0.5792104118,"log_growth_rate":-0.2371636399},{"taxon":"Escherichia_coli_4","sample_id":"sample_2","abundance":0.1977671451,"tradeoff":"0.6","growth_rate":0.2637263604,"log_growth_rate":-0.5788464587},{"taxon":"Escherichia_coli_2","sample_id":"sample_2","abundance":0.3678894205,"tradeoff":"0.5","growth_rate":0.4047458666,"log_growth_rate":-0.3928175777},{"taxon":"Escherichia_coli_3","sample_id":"sample_2","abundance":0.4343434343,"tradeoff":"0.5","growth_rate":0.4778574784,"log_growth_rate":-0.3207016129},{"taxon":"Escherichia_coli_4","sample_id":"sample_2","abundance":0.1977671451,"tradeoff":"0.5","growth_rate":0.2175801426,"log_growth_rate":-0.6623807429},{"taxon":"Escherichia_coli_2","sample_id":"sample_2","abundance":0.3678894205,"tradeoff":"0.4","growth_rate":0.3202075482,"log_growth_rate":-0.4945684347},{"taxon":"Escherichia_coli_3","sample_id":"sample_2","abundance":0.4343434343,"tradeoff":"0.4","growth_rate":0.3780485071,"log_growth_rate":-0.4224524726},{"taxon":"Escherichia_coli_4","sample_id":"sample_2","abundance":0.1977671451,"tradeoff":"0.4","growth_rate":0.1721347986,"log_growth_rate":-0.7641313244},{"taxon":"Escherichia_coli_2","sample_id":"sample_2","abundance":0.3678894205,"tradeoff":"0.3","growth_rate":0.2392019078,"log_growth_rate":-0.6212353609},{"taxon":"Escherichia_coli_3","sample_id":"sample_2","abundance":0.4343434343,"tradeoff":"0.3","growth_rate":0.2824103449,"log_growth_rate":-0.5491193988},{"taxon":"Escherichia_coli_4","sample_id":"sample_2","abundance":0.1977671451,"tradeoff":"0.3","growth_rate":0.1285883412,"log_growth_rate":-0.8907984061},{"taxon":"Escherichia_coli_2","sample_id":"sample_2","abundance":0.3678894205,"tradeoff":"0.2","growth_rate":0.1598852752,"log_growth_rate":-0.7961915311},{"taxon":"Escherichia_coli_3","sample_id":"sample_2","abundance":0.4343434343,"tradeoff":"0.2","growth_rate":0.1887662859,"log_growth_rate":-0.724075569},{"taxon":"Escherichia_coli_4","sample_id":"sample_2","abundance":0.1977671451,"tradeoff":"0.2","growth_rate":0.0859518378,"log_growth_rate":-1.0657448329},{"taxon":"Escherichia_coli_2","sample_id":"sample_2","abundance":0.3678894205,"tradeoff":"0.1","growth_rate":0.0788068014,"log_growth_rate":-1.1034362995},{"taxon":"Escherichia_coli_3","sample_id":"sample_2","abundance":0.4343434343,"tradeoff":"0.1","growth_rate":0.093042134,"log_growth_rate":-1.0313203374},{"taxon":"Escherichia_coli_4","sample_id":"sample_2","abundance":0.1977671451,"tradeoff":"0.1","growth_rate":0.0423643684,"log_growth_rate":-1.3729992637},{"taxon":"Escherichia_coli_2","sample_id":"sample_1","abundance":0.2714570858,"tradeoff":"none","growth_rate":0.6581708256,"log_growth_rate":-0.1816613724},{"taxon":"Escherichia_coli_3","sample_id":"sample_1","abundance":0.3808383234,"tradeoff":"none","growth_rate":0.8856476728,"log_growth_rate":-0.0527390142},{"taxon":"Escherichia_coli_4","sample_id":"sample_1","abundance":0.3477045908,"tradeoff":"none","growth_rate":0.8158723229,"log_growth_rate":-0.0883777993},{"taxon":"Escherichia_coli_2","sample_id":"sample_1","abundance":0.2714570858,"tradeoff":"1.0","growth_rate":0.6392628323,"log_growth_rate":-0.1943205454},{"taxon":"Escherichia_coli_3","sample_id":"sample_1","abundance":0.3808383234,"tradeoff":"1.0","growth_rate":0.89684815,"log_growth_rate":-0.0472810834},{"taxon":"Escherichia_coli_4","sample_id":"sample_1","abundance":0.3477045908,"tradeoff":"1.0","growth_rate":0.8188204807,"log_growth_rate":-0.0868113031},{"taxon":"Escherichia_coli_2","sample_id":"sample_1","abundance":0.2714570858,"tradeoff":"0.9","growth_rate":0.5733452073,"log_growth_rate":-0.2415838135},{"taxon":"Escherichia_coli_3","sample_id":"sample_1","abundance":0.3808383234,"tradeoff":"0.9","growth_rate":0.8043696024,"log_growth_rate":-0.09454435},{"taxon":"Escherichia_coli_4","sample_id":"sample_1","abundance":0.3477045908,"tradeoff":"0.9","growth_rate":0.7343877603,"log_growth_rate":-0.1340745699},{"taxon":"Escherichia_coli_2","sample_id":"sample_1","abundance":0.2714570858,"tradeoff":"0.8","growth_rate":0.5080374816,"log_growth_rate":-0.2941042455},{"taxon":"Escherichia_coli_3","sample_id":"sample_1","abundance":0.3808383234,"tradeoff":"0.8","growth_rate":0.712746706,"log_growth_rate":-0.1470647811},{"taxon":"Escherichia_coli_4","sample_id":"sample_1","abundance":0.3477045908,"tradeoff":"0.8","growth_rate":0.6507362475,"log_growth_rate":-0.1865950014},{"taxon":"Escherichia_coli_2","sample_id":"sample_1","abundance":0.2714570858,"tradeoff":"0.7","growth_rate":0.4450968425,"log_growth_rate":-0.3515454866},{"taxon":"Escherichia_coli_3","sample_id":"sample_1","abundance":0.3808383234,"tradeoff":"0.7","growth_rate":0.6244446867,"log_growth_rate":-0.2045060254},{"taxon":"Escherichia_coli_4","sample_id":"sample_1","abundance":0.3477045908,"tradeoff":"0.7","growth_rate":0.5701166914,"log_growth_rate":-0.2440362439},{"taxon":"Escherichia_coli_2","sample_id":"sample_1","abundance":0.2714570858,"tradeoff":"0.6","growth_rate":0.386444578,"log_growth_rate":-0.4129127817},{"taxon":"Escherichia_coli_3","sample_id":"sample_1","abundance":0.3808383234,"tradeoff":"0.6","growth_rate":0.5421590109,"log_growth_rate":-0.2658733197},{"taxon":"Escherichia_coli_4","sample_id":"sample_1","abundance":0.3477045908,"tradeoff":"0.6","growth_rate":0.4949900404,"log_growth_rate":-0.3054035394},{"taxon":"Escherichia_coli_2","sample_id":"sample_1","abundance":0.2714570858,"tradeoff":"0.5","growth_rate":0.3224959916,"log_growth_rate":-0.491475679},{"taxon":"Escherichia_coli_3","sample_id":"sample_1","abundance":0.3808383234,"tradeoff":"0.5","growth_rate":0.4524429098,"log_growth_rate":-0.3444362132},{"taxon":"Escherichia_coli_4","sample_id":"sample_1","abundance":0.3477045908,"tradeoff":"0.5","growth_rate":0.4130794271,"log_growth_rate":-0.3839664339},{"taxon":"Escherichia_coli_2","sample_id":"sample_1","abundance":0.2714570858,"tradeoff":"0.4","growth_rate":0.2523413183,"log_growth_rate":-0.5980116325},{"taxon":"Escherichia_coli_3","sample_id":"sample_1","abundance":0.3808383234,"tradeoff":"0.4","growth_rate":0.3540200259,"log_growth_rate":-0.4509721705},{"taxon":"Escherichia_coli_4","sample_id":"sample_1","abundance":0.3477045908,"tradeoff":"0.4","growth_rate":0.3232194358,"log_growth_rate":-0.4905025322},{"taxon":"Escherichia_coli_2","sample_id":"sample_1","abundance":0.2714570858,"tradeoff":"0.3","growth_rate":0.1888331819,"log_growth_rate":-0.7239216887},{"taxon":"Escherichia_coli_3","sample_id":"sample_1","abundance":0.3808383234,"tradeoff":"0.3","growth_rate":0.2649218464,"log_growth_rate":-0.5768822267},{"taxon":"Escherichia_coli_4","sample_id":"sample_1","abundance":0.3477045908,"tradeoff":"0.3","growth_rate":0.2418730649,"log_growth_rate":-0.6164124923},{"taxon":"Escherichia_coli_2","sample_id":"sample_1","abundance":0.2714570858,"tradeoff":"0.2","growth_rate":0.1262503429,"log_growth_rate":-0.8987674337},{"taxon":"Escherichia_coli_3","sample_id":"sample_1","abundance":0.3808383234,"tradeoff":"0.2","growth_rate":0.1771182117,"log_growth_rate":-0.7517367813},{"taxon":"Escherichia_coli_4","sample_id":"sample_1","abundance":0.3477045908,"tradeoff":"0.2","growth_rate":0.161708556,"log_growth_rate":-0.791267001},{"taxon":"Escherichia_coli_2","sample_id":"sample_1","abundance":0.2714570858,"tradeoff":"0.1","growth_rate":0.062596215,"log_growth_rate":-1.2034519264},{"taxon":"Escherichia_coli_3","sample_id":"sample_1","abundance":0.3808383234,"tradeoff":"0.1","growth_rate":0.0878186034,"log_growth_rate":-1.0564134739},{"taxon":"Escherichia_coli_4","sample_id":"sample_1","abundance":0.3477045908,"tradeoff":"0.1","growth_rate":0.0801782008,"log_growth_rate":-1.0959436935},{"taxon":"Escherichia_coli_2","sample_id":"sample_3","abundance":0.1989424983,"tradeoff":"none","growth_rate":0.6245517443,"log_growth_rate":-0.2044315744},{"taxon":"Escherichia_coli_3","sample_id":"sample_3","abundance":0.606741573,"tradeoff":"none","growth_rate":0.9141988724,"log_growth_rate":-0.0389593187},{"taxon":"Escherichia_coli_4","sample_id":"sample_3","abundance":0.1943159286,"tradeoff":"none","growth_rate":0.6204773024,"log_growth_rate":-0.2072741008},{"taxon":"Escherichia_coli_2","sample_id":"sample_3","abundance":0.1989424983,"tradeoff":"1.0","growth_rate":0.357058183,"log_growth_rate":-0.4472610094},{"taxon":"Escherichia_coli_3","sample_id":"sample_3","abundance":0.606741573,"tradeoff":"1.0","growth_rate":1.0890305807,"log_growth_rate":0.0370400752},{"taxon":"Escherichia_coli_4","sample_id":"sample_3","abundance":0.1943159286,"tradeoff":"1.0","growth_rate":0.3487540377,"log_growth_rate":-0.4574807556},{"taxon":"Escherichia_coli_2","sample_id":"sample_3","abundance":0.1989424983,"tradeoff":"0.9","growth_rate":0.3238916455,"log_growth_rate":-0.4896002541},{"taxon":"Escherichia_coli_3","sample_id":"sample_3","abundance":0.606741573,"tradeoff":"0.9","growth_rate":0.9878157161,"log_growth_rate":-0.0053240685},{"taxon":"Escherichia_coli_4","sample_id":"sample_3","abundance":0.1943159286,"tradeoff":"0.9","growth_rate":0.3163592816,"log_growth_rate":-0.4998194193},{"taxon":"Escherichia_coli_2","sample_id":"sample_3","abundance":0.1989424983,"tradeoff":"0.8","growth_rate":0.2836354058,"log_growth_rate":-0.5472395578},{"taxon":"Escherichia_coli_3","sample_id":"sample_3","abundance":0.606741573,"tradeoff":"0.8","growth_rate":0.8650408721,"log_growth_rate":-0.0629633722},{"taxon":"Escherichia_coli_4","sample_id":"sample_3","abundance":0.1943159286,"tradeoff":"0.8","growth_rate":0.2770392335,"log_growth_rate":-0.557458723},{"taxon":"Escherichia_coli_2","sample_id":"sample_3","abundance":0.1989424983,"tradeoff":"0.7","growth_rate":0.2477023272,"log_growth_rate":-0.6060699132},{"taxon":"Escherichia_coli_3","sample_id":"sample_3","abundance":0.606741573,"tradeoff":"0.7","growth_rate":0.7554509514,"log_growth_rate":-0.1217937276},{"taxon":"Escherichia_coli_4","sample_id":"sample_3","abundance":0.1943159286,"tradeoff":"0.7","growth_rate":0.2419418079,"log_growth_rate":-0.6162890783},{"taxon":"Escherichia_coli_2","sample_id":"sample_3","abundance":0.1989424983,"tradeoff":"0.6","growth_rate":0.2157062583,"log_growth_rate":-0.6661372545},{"taxon":"Escherichia_coli_3","sample_id":"sample_3","abundance":0.606741573,"tradeoff":"0.6","growth_rate":0.6578682562,"log_growth_rate":-0.1818610689},{"taxon":"Escherichia_coli_4","sample_id":"sample_3","abundance":0.1943159286,"tradeoff":"0.6","growth_rate":0.2106898337,"log_growth_rate":-0.6763564197},{"taxon":"Escherichia_coli_2","sample_id":"sample_3","abundance":0.1989424983,"tradeoff":"0.5","growth_rate":0.1785073711,"log_growth_rate":-0.7483438458},{"taxon":"Escherichia_coli_3","sample_id":"sample_3","abundance":0.606741573,"tradeoff":"0.5","growth_rate":0.5444129677,"log_growth_rate":-0.2640715386},{"taxon":"Escherichia_coli_4","sample_id":"sample_3","abundance":0.1943159286,"tradeoff":"0.5","growth_rate":0.1743560369,"log_growth_rate":-0.7585630109},{"taxon":"Escherichia_coli_2","sample_id":"sample_3","abundance":0.1989424983,"tradeoff":"0.4","growth_rate":0.1412559836,"log_growth_rate":-0.8499931464},{"taxon":"Escherichia_coli_3","sample_id":"sample_3","abundance":0.606741573,"tradeoff":"0.4","growth_rate":0.4308067599,"log_growth_rate":-0.3657174907},{"taxon":"Escherichia_coli_4","sample_id":"sample_3","abundance":0.1943159286,"tradeoff":"0.4","growth_rate":0.1379709607,"log_growth_rate":-0.8602123116},{"taxon":"Escherichia_coli_2","sample_id":"sample_3","abundance":0.1989424983,"tradeoff":"0.3","growth_rate":0.1051947032,"log_growth_rate":-0.9780061273},{"taxon":"Escherichia_coli_3","sample_id":"sample_3","abundance":0.606741573,"tradeoff":"0.3","growth_rate":0.320826309,"log_growth_rate":-0.4937300251},{"taxon":"Escherichia_coli_4","sample_id":"sample_3","abundance":0.1943159286,"tradeoff":"0.3","growth_rate":0.1027483148,"log_growth_rate":-0.9882252924},{"taxon":"Escherichia_coli_2","sample_id":"sample_3","abundance":0.1989424983,"tradeoff":"0.2","growth_rate":0.070263252,"log_growth_rate":-1.1532717535},{"taxon":"Escherichia_coli_3","sample_id":"sample_3","abundance":0.606741573,"tradeoff":"0.2","growth_rate":0.2142902322,"log_growth_rate":-0.6689976245},{"taxon":"Escherichia_coli_4","sample_id":"sample_3","abundance":0.1943159286,"tradeoff":"0.2","growth_rate":0.0686292229,"log_growth_rate":-1.1634909187},{"taxon":"Escherichia_coli_2","sample_id":"sample_3","abundance":0.1989424983,"tradeoff":"0.1","growth_rate":0.0346243036,"log_growth_rate":-1.4606189524},{"taxon":"Escherichia_coli_3","sample_id":"sample_3","abundance":0.606741573,"tradeoff":"0.1","growth_rate":0.1055983301,"log_growth_rate":-0.9763429493},{"taxon":"Escherichia_coli_4","sample_id":"sample_3","abundance":0.1943159286,"tradeoff":"0.1","growth_rate":0.0338190873,"log_growth_rate":-1.4708381176},{"taxon":"Escherichia_coli_2","sample_id":"sample_4","abundance":0.1959273528,"tradeoff":"none","growth_rate":0.7011337529,"log_growth_rate":-0.1541991253},{"taxon":"Escherichia_coli_3","sample_id":"sample_4","abundance":0.4760594386,"tradeoff":"none","growth_rate":0.8574688803,"log_growth_rate":-0.0667816326},{"taxon":"Escherichia_coli_4","sample_id":"sample_4","abundance":0.3280132086,"tradeoff":"none","growth_rate":0.7765725799,"log_growth_rate":-0.1098179481},{"taxon":"Escherichia_coli_2","sample_id":"sample_4","abundance":0.1959273528,"tradeoff":"1.0","growth_rate":0.4219327879,"log_growth_rate":-0.3747567248},{"taxon":"Escherichia_coli_3","sample_id":"sample_4","abundance":0.4760594386,"tradeoff":"1.0","growth_rate":1.0252018582,"log_growth_rate":0.0108093847},{"taxon":"Escherichia_coli_4","sample_id":"sample_4","abundance":0.3280132086,"tradeoff":"1.0","growth_rate":0.7063818583,"log_growth_rate":-0.1509604631},{"taxon":"Escherichia_coli_2","sample_id":"sample_4","abundance":0.1959273528,"tradeoff":"0.9","growth_rate":0.3799627449,"log_growth_rate":-0.4202589836},{"taxon":"Escherichia_coli_3","sample_id":"sample_4","abundance":0.4760594386,"tradeoff":"0.9","growth_rate":0.9232190952,"log_growth_rate":-0.0346952215},{"taxon":"Escherichia_coli_4","sample_id":"sample_4","abundance":0.3280132086,"tradeoff":"0.9","growth_rate":0.6361150154,"log_growth_rate":-0.1964643528},{"taxon":"Escherichia_coli_2","sample_id":"sample_4","abundance":0.1959273528,"tradeoff":"0.8","growth_rate":0.3341442295,"log_growth_rate":-0.4760660345},{"taxon":"Escherichia_coli_3","sample_id":"sample_4","abundance":0.4760594386,"tradeoff":"0.8","growth_rate":0.8118953892,"log_growth_rate":-0.090499925},{"taxon":"Escherichia_coli_4","sample_id":"sample_4","abundance":0.3280132086,"tradeoff":"0.8","growth_rate":0.5594100023,"log_growth_rate":-0.2522697727},{"taxon":"Escherichia_coli_2","sample_id":"sample_4","abundance":0.1959273528,"tradeoff":"0.7","growth_rate":0.291431593,"log_growth_rate":-0.5354633698},{"taxon":"Escherichia_coli_3","sample_id":"sample_4","abundance":0.4760594386,"tradeoff":"0.7","growth_rate":0.7081147877,"log_growth_rate":-0.1498963361},{"taxon":"Escherichia_coli_4","sample_id":"sample_4","abundance":0.3280132086,"tradeoff":"0.7","growth_rate":0.4879030749,"log_growth_rate":-0.3116664449},{"taxon":"Escherichia_coli_2","sample_id":"sample_4","abundance":0.1959273528,"tradeoff":"0.6","growth_rate":0.2541673071,"log_growth_rate":-0.5948803123},{"taxon":"Escherichia_coli_3","sample_id":"sample_4","abundance":0.4760594386,"tradeoff":"0.6","growth_rate":0.6175782667,"log_growth_rate":-0.2093079958},{"taxon":"Escherichia_coli_4","sample_id":"sample_4","abundance":0.3280132086,"tradeoff":"0.6","growth_rate":0.4255203282,"log_growth_rate":-0.3710796877},{"taxon":"Escherichia_coli_2","sample_id":"sample_4","abundance":0.1959273528,"tradeoff":"0.5","growth_rate":0.2079320979,"log_growth_rate":-0.6820784647},{"taxon":"Escherichia_coli_3","sample_id":"sample_4","abundance":0.4760594386,"tradeoff":"0.5","growth_rate":0.5052282716,"log_growth_rate":-0.2965123552},{"taxon":"Escherichia_coli_4","sample_id":"sample_4","abundance":0.3280132086,"tradeoff":"0.5","growth_rate":0.3481110403,"log_growth_rate":-0.4582822029},{"taxon":"Escherichia_coli_2","sample_id":"sample_4","abundance":0.1959273528,"tradeoff":"0.4","growth_rate":0.1659788394,"log_growth_rate":-0.7799472764},{"taxon":"Escherichia_coli_3","sample_id":"sample_4","abundance":0.4760594386,"tradeoff":"0.4","growth_rate":0.4032912251,"log_growth_rate":-0.3943812274},{"taxon":"Escherichia_coli_4","sample_id":"sample_4","abundance":0.3280132086,"tradeoff":"0.4","growth_rate":0.2778746863,"log_growth_rate":-0.5561510146},{"taxon":"Escherichia_coli_2","sample_id":"sample_4","abundance":0.1959273528,"tradeoff":"0.3","growth_rate":0.1241345193,"log_growth_rate":-0.9061074334},{"taxon":"Escherichia_coli_3","sample_id":"sample_4","abundance":0.4760594386,"tradeoff":"0.3","growth_rate":0.3016189115,"log_growth_rate":-0.5205414317},{"taxon":"Escherichia_coli_4","sample_id":"sample_4","abundance":0.3280132086,"tradeoff":"0.3","growth_rate":0.207820712,"log_growth_rate":-0.6823111716},{"taxon":"Escherichia_coli_2","sample_id":"sample_4","abundance":0.1959273528,"tradeoff":"0.2","growth_rate":0.0823912269,"log_growth_rate":-1.0841190298},{"taxon":"Escherichia_coli_3","sample_id":"sample_4","abundance":0.4760594386,"tradeoff":"0.2","growth_rate":0.2001920705,"log_growth_rate":-0.6985531288},{"taxon":"Escherichia_coli_4","sample_id":"sample_4","abundance":0.3280132086,"tradeoff":"0.2","growth_rate":0.1379358743,"log_growth_rate":-0.860322768},{"taxon":"Escherichia_coli_2","sample_id":"sample_4","abundance":0.1959273528,"tradeoff":"0.1","growth_rate":0.0410899677,"log_growth_rate":-1.3862641998},{"taxon":"Escherichia_coli_3","sample_id":"sample_4","abundance":0.4760594386,"tradeoff":"0.1","growth_rate":0.0998392875,"log_growth_rate":-1.0006985268},{"taxon":"Escherichia_coli_4","sample_id":"sample_4","abundance":0.3280132086,"tradeoff":"0.1","growth_rate":0.0687910004,"log_growth_rate":-1.1624683745}]
            },
            mark: {
                type: "rect",
                tooltip: true
            },
            encoding: {
                y: {
                    field: "tradeoff",
                    type: "nominal"
                },
                x: {
                    bin: {maxbins: 10},
                    field: "log_growth_rate",
                    type: "quantitative",
                    axis: {title: "log10(growth rate [1/h])", grid: false}
                },
                color: {
                    aggregate: "count",
                    type: "quantitative",
                    scale: {scheme: "viridis"},
                    axis: {title: "no. taxa"}
                }
            }
        },
        {
            width: 400,
            height: 300,
            data: {
                values: [{"tradeoff":"0.1","sample_id":"sample_1","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.1","sample_id":"sample_2","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.1","sample_id":"sample_3","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.1","sample_id":"sample_4","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.2","sample_id":"sample_1","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.2","sample_id":"sample_2","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.2","sample_id":"sample_3","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.2","sample_id":"sample_4","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.3","sample_id":"sample_1","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.3","sample_id":"sample_2","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.3","sample_id":"sample_3","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.3","sample_id":"sample_4","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.4","sample_id":"sample_1","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.4","sample_id":"sample_2","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.4","sample_id":"sample_3","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.4","sample_id":"sample_4","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.5","sample_id":"sample_1","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.5","sample_id":"sample_2","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.5","sample_id":"sample_3","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.5","sample_id":"sample_4","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.6","sample_id":"sample_1","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.6","sample_id":"sample_2","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.6","sample_id":"sample_3","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.6","sample_id":"sample_4","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.7","sample_id":"sample_1","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.7","sample_id":"sample_2","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.7","sample_id":"sample_3","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.7","sample_id":"sample_4","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.8","sample_id":"sample_1","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.8","sample_id":"sample_2","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.8","sample_id":"sample_3","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.8","sample_id":"sample_4","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.9","sample_id":"sample_1","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.9","sample_id":"sample_2","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.9","sample_id":"sample_3","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.9","sample_id":"sample_4","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"1.0","sample_id":"sample_1","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"1.0","sample_id":"sample_2","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"1.0","sample_id":"sample_3","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"1.0","sample_id":"sample_4","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"none","sample_id":"sample_1","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"none","sample_id":"sample_2","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"none","sample_id":"sample_3","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"none","sample_id":"sample_4","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0}]
            },
            layer: [{
            selection: {
                pts: {type: "single", fields: ["sample_id"]}
            },
            mark: {
                type: "point",
                filled: true,
                size: 20,
                tooltip: {content: "data"}
            },
            encoding: {
                y: {
                    field: "fraction_growing",
                    type: "quantitative",
                    axis: {title: "fraction of taxa growing"}
                },
                x: {
                    field: "tradeoff",
                    type: "nominal",
                    axis: {title: "tradeoff"}
                },
                color: {
                    condition: {
                        selection: "pts",
                        value: "blue"
                    },
                    value: "lightgrey"
                },
                opacity: {
                    condition: {
                        selection: "pts",
                        value: 0.8
                    },
                    value: 0.2
                }
            }
            }, {
            mark: "line",
            encoding: {
                y: {
                    field: "fraction_growing",
                    type: "quantitative",
                    aggregate: "mean",
                    axis: {title: "fraction of taxa growing"}
                },
                x: {
                    field: "tradeoff",
                    type: "nominal",
                    axis: {title: "tradeoff"}
                },
                color: {value: "orange"}
            }
            }]
            }]
      };

      // Embed the visualization in the container with id `vis`
      vegaEmbed("#vis", vlSpec, {renderer: "svg"}).then(function(r) {
        svg = d3.select("#vis svg");
        svg.attr("width", "100%").attr("height", "auto");
      });

      files = {'tradeoff': 'abundance,growth_rate,reactions,metabolites,taxon,tradeoff,sample_id\n0.36788942052099954,0.8082300427758955,95,72,Escherichia_coli_2,,sample_2\n0.43434343434343436,0.9390237304267005,95,72,Escherichia_coli_3,,sample_2\n0.1977671451355662,0.47628459608341356,95,72,Escherichia_coli_4,,sample_2\n0.36788942052099954,0.8101214402144437,95,72,Escherichia_coli_2,1.0,sample_2\n0.43434343434343436,0.956458405571111,95,72,Escherichia_coli_3,1.0,sample_2\n0.1977671451355662,0.43549880890137516,95,72,Escherichia_coli_4,1.0,sample_2\n0.36788942052099954,0.7250484561885556,95,72,Escherichia_coli_2,0.9,sample_2\n0.43434343434343436,0.8559461162688252,95,72,Escherichia_coli_3,0.9,sample_2\n0.1977671451355662,0.3897659330966788,95,72,Escherichia_coli_4,0.9,sample_2\n0.36788942052099954,0.6447088928892927,95,72,Escherichia_coli_2,0.8,sample_2\n0.43434343434343436,0.761166424119497,95,72,Escherichia_coli_3,0.8,sample_2\n0.1977671451355662,0.34657762516001805,95,72,Escherichia_coli_4,0.8,sample_2\n0.36788942052099954,0.5718110414386071,95,72,Escherichia_coli_2,0.7000000000000001,sample_2\n0.43434343434343436,0.6751034270311604,95,72,Escherichia_coli_3,0.7000000000000001,sample_2\n0.1977671451355662,0.3073828716839831,95,72,Escherichia_coli_4,0.7000000000000001,sample_2\n0.36788942052099954,0.49059131592764305,95,72,Escherichia_coli_2,0.6,sample_2\n0.43434343434343436,0.5792104118267725,95,72,Escherichia_coli_3,0.6,sample_2\n0.1977671451355662,0.2637263604124101,95,72,Escherichia_coli_4,0.6,sample_2\n0.36788942052099954,0.40474586658166045,95,72,Escherichia_coli_2,0.5,sample_2\n0.43434343434343436,0.4778574784080726,95,72,Escherichia_coli_3,0.5,sample_2\n0.1977671451355662,0.2175801426374549,95,72,Escherichia_coli_4,0.5,sample_2\n0.36788942052099954,0.3202075482480473,95,72,Escherichia_coli_2,0.4,sample_2\n0.43434343434343436,0.3780485071078986,95,72,Escherichia_coli_3,0.4,sample_2\n0.1977671451355662,0.17213479856083347,95,72,Escherichia_coli_4,0.4,sample_2\n0.36788942052099954,0.23920190780922126,95,72,Escherichia_coli_2,0.30000000000000004,sample_2\n0.43434343434343436,0.2824103449134905,95,72,Escherichia_coli_3,0.30000000000000004,sample_2\n0.1977671451355662,0.12858834117860468,95,72,Escherichia_coli_4,0.30000000000000004,sample_2\n0.36788942052099954,0.1598852752467923,95,72,Escherichia_coli_2,0.2,sample_2\n0.43434343434343436,0.18876628594888725,95,72,Escherichia_coli_3,0.2,sample_2\n0.1977671451355662,0.08595183780340855,95,72,Escherichia_coli_4,0.2,sample_2\n0.36788942052099954,0.07880680135115489,95,72,Escherichia_coli_2,0.1,sample_2\n0.43434343434343436,0.09304213396516516,95,72,Escherichia_coli_3,0.1,sample_2\n0.1977671451355662,0.04236436843202473,95,72,Escherichia_coli_4,0.1,sample_2\n0.2714570858283433,0.6581708255544394,95,72,Escherichia_coli_2,,sample_1\n0.38083832335329343,0.8856476727880216,95,72,Escherichia_coli_3,,sample_1\n0.3477045908183633,0.8158723228943874,95,72,Escherichia_coli_4,,sample_1\n0.2714570858283433,0.6392628322657078,95,72,Escherichia_coli_2,1.0,sample_1\n0.38083832335329343,0.8968481499727718,95,72,Escherichia_coli_3,1.0,sample_1\n0.3477045908183633,0.818820480740407,95,72,Escherichia_coli_4,1.0,sample_1\n0.2714570858283433,0.5733452073180342,95,72,Escherichia_coli_2,0.9,sample_1\n0.38083832335329343,0.8043696024057171,95,72,Escherichia_coli_3,0.9,sample_1\n0.3477045908183633,0.7343877603225938,95,72,Escherichia_coli_4,0.9,sample_1\n0.2714570858283433,0.5080374815848377,95,72,Escherichia_coli_2,0.8,sample_1\n0.38083832335329343,0.7127467060245866,95,72,Escherichia_coli_3,0.8,sample_1\n0.3477045908183633,0.6507362475119901,95,72,Escherichia_coli_4,0.8,sample_1\n0.2714570858283433,0.4450968424933201,95,72,Escherichia_coli_2,0.7000000000000001,sample_1\n0.38083832335329343,0.6244446867326345,95,72,Escherichia_coli_3,0.7000000000000001,sample_1\n0.3477045908183633,0.5701166914161441,95,72,Escherichia_coli_4,0.7000000000000001,sample_1\n0.2714570858283433,0.3864445780249622,95,72,Escherichia_coli_2,0.6,sample_1\n0.38083832335329343,0.5421590109350138,95,72,Escherichia_coli_3,0.6,sample_1\n0.3477045908183633,0.4949900403819858,95,72,Escherichia_coli_4,0.6,sample_1\n0.2714570858283433,0.3224959915844024,95,72,Escherichia_coli_2,0.5,sample_1\n0.38083832335329343,0.45244290977094803,95,72,Escherichia_coli_3,0.5,sample_1\n0.3477045908183633,0.4130794271253399,95,72,Escherichia_coli_4,0.5,sample_1\n0.2714570858283433,0.25234131825165335,95,72,Escherichia_coli_2,0.4,sample_1\n0.38083832335329343,0.35402002590011594,95,72,Escherichia_coli_3,0.4,sample_1\n0.3477045908183633,0.3232194357879461,95,72,Escherichia_coli_4,0.4,sample_1\n0.2714570858283433,0.18883318193162676,95,72,Escherichia_coli_2,0.30000000000000004,sample_1\n0.38083832335329343,0.2649218464158426,95,72,Escherichia_coli_3,0.30000000000000004,sample_1\n0.3477045908183633,0.24187306486253238,95,72,Escherichia_coli_4,0.30000000000000004,sample_1\n0.2714570858283433,0.12625034289596543,95,72,Escherichia_coli_2,0.2,sample_1\n0.38083832335329343,0.1771182117172795,95,72,Escherichia_coli_3,0.2,sample_1\n0.3477045908183633,0.1617085559808719,95,72,Escherichia_coli_4,0.2,sample_1\n0.2714570858283433,0.06259621500290666,95,72,Escherichia_coli_2,0.1,sample_1\n0.38083832335329343,0.08781860340271333,95,72,Escherichia_coli_3,0.1,sample_1\n0.3477045908183633,0.08017820080058925,95,72,Escherichia_coli_4,0.1,sample_1\n0.19894249834765362,0.6245517443054069,95,72,Escherichia_coli_2,,sample_3\n0.6067415730337078,0.9141988724076875,95,72,Escherichia_coli_3,,sample_3\n0.19431592861863844,0.6204773023764979,95,72,Escherichia_coli_4,,sample_3\n0.19894249834765362,0.35705818299649084,95,72,Escherichia_coli_2,1.0,sample_3\n0.6067415730337078,1.089030580698537,95,72,Escherichia_coli_3,1.0,sample_3\n0.19431592861863844,0.3487540376968586,95,72,Escherichia_coli_4,1.0,sample_3\n0.19894249834765362,0.3238916454879296,95,72,Escherichia_coli_2,0.9,sample_3\n0.6067415730337078,0.9878157161395347,95,72,Escherichia_coli_3,0.9,sample_3\n0.19431592861863844,0.3163592816393835,95,72,Escherichia_coli_4,0.9,sample_3\n0.19894249834765362,0.2836354057739566,95,72,Escherichia_coli_2,0.8,sample_3\n0.6067415730337078,0.8650408720981071,95,72,Escherichia_coli_3,0.8,sample_3\n0.19431592861863844,0.2770392335465579,95,72,Escherichia_coli_4,0.8,sample_3\n0.19894249834765362,0.24770232718639157,95,72,Escherichia_coli_2,0.7000000000000001,sample_3\n0.6067415730337078,0.7554509513525233,95,72,Escherichia_coli_3,0.7000000000000001,sample_3\n0.19431592861863844,0.24194180794949594,95,72,Escherichia_coli_4,0.7000000000000001,sample_3\n0.19894249834765362,0.21570625828373577,95,72,Escherichia_coli_2,0.6,sample_3\n0.6067415730337078,0.65786825617826,95,72,Escherichia_coli_3,0.6,sample_3\n0.19431592861863844,0.2106898336721702,95,72,Escherichia_coli_4,0.6,sample_3\n0.19894249834765362,0.17850737114650292,95,72,Escherichia_coli_2,0.5,sample_3\n0.6067415730337078,0.5444129677141689,95,72,Escherichia_coli_3,0.5,sample_3\n0.19431592861863844,0.17435603693379018,95,72,Escherichia_coli_4,0.5,sample_3\n0.19894249834765362,0.14125598361085537,95,72,Escherichia_coli_2,0.4,sample_3\n0.6067415730337078,0.43080675991441464,95,72,Escherichia_coli_3,0.4,sample_3\n0.19431592861863844,0.13797096073618587,95,72,Escherichia_coli_4,0.4,sample_3\n0.19894249834765362,0.1051947032269952,95,72,Escherichia_coli_2,0.30000000000000004,sample_3\n0.6067415730337078,0.32082630900819387,95,72,Escherichia_coli_3,0.30000000000000004,sample_3\n0.19431592861863844,0.10274831477985526,95,72,Escherichia_coli_4,0.30000000000000004,sample_3\n0.19894249834765362,0.07026325201580519,95,72,Escherichia_coli_2,0.2,sample_3\n0.6067415730337078,0.21429023224476906,95,72,Escherichia_coli_3,0.2,sample_3\n0.19431592861863844,0.06862922289915832,95,72,Escherichia_coli_4,0.2,sample_3\n0.19894249834765362,0.03462430363374049,95,72,Escherichia_coli_2,0.1,sample_3\n0.6067415730337078,0.10559833014919628,95,72,Escherichia_coli_3,0.1,sample_3\n0.19431592861863844,0.03381908727016686,95,72,Escherichia_coli_4,0.1,sample_3\n0.19592735277930656,0.7011337528635961,95,72,Escherichia_coli_2,,sample_4\n0.4760594386351128,0.8574688802795558,95,72,Escherichia_coli_3,,sample_4\n0.32801320858558064,0.7765725798950043,95,72,Escherichia_coli_4,,sample_4\n0.19592735277930656,0.4219327878731944,95,72,Escherichia_coli_2,1.0,sample_4\n0.4760594386351128,1.0252018581752356,95,72,Escherichia_coli_3,1.0,sample_4\n0.32801320858558064,0.7063818583495042,95,72,Escherichia_coli_4,1.0,sample_4\n0.19592735277930656,0.379962744895464,95,72,Escherichia_coli_2,0.9,sample_4\n0.4760594386351128,0.923219095161742,95,72,Escherichia_coli_3,0.9,sample_4\n0.32801320858558064,0.6361150154329515,95,72,Escherichia_coli_4,0.9,sample_4\n0.19592735277930656,0.3341442295363667,95,72,Escherichia_coli_2,0.8,sample_4\n0.4760594386351128,0.8118953891886737,95,72,Escherichia_coli_3,0.8,sample_4\n0.32801320858558064,0.5594100022616488,95,72,Escherichia_coli_4,0.8,sample_4\n0.19592735277930656,0.29143159298633714,95,72,Escherichia_coli_2,0.7000000000000001,sample_4\n0.4760594386351128,0.7081147876788279,95,72,Escherichia_coli_3,0.7000000000000001,sample_4\n0.32801320858558064,0.4879030748642776,95,72,Escherichia_coli_4,0.7000000000000001,sample_4\n0.19592735277930656,0.25416730712597196,95,72,Escherichia_coli_2,0.6,sample_4\n0.4760594386351128,0.6175782666572948,95,72,Escherichia_coli_3,0.6,sample_4\n0.32801320858558064,0.42552032821790453,95,72,Escherichia_coli_4,0.6,sample_4\n0.19592735277930656,0.20793209789722067,95,72,Escherichia_coli_2,0.5,sample_4\n0.4760594386351128,0.5052282715761114,95,72,Escherichia_coli_3,0.5,sample_4\n0.32801320858558064,0.3481110402998414,95,72,Escherichia_coli_4,0.5,sample_4\n0.19592735277930656,0.16597883944829958,95,72,Escherichia_coli_2,0.4,sample_4\n0.4760594386351128,0.40329122510866255,95,72,Escherichia_coli_3,0.4,sample_4\n0.32801320858558064,0.2778746862673772,95,72,Escherichia_coli_4,0.4,sample_4\n0.19592735277930656,0.124134519251176,95,72,Escherichia_coli_2,0.30000000000000004,sample_4\n0.4760594386351128,0.3016189114846267,95,72,Escherichia_coli_3,0.30000000000000004,sample_4\n0.32801320858558064,0.2078207120047804,95,72,Escherichia_coli_4,0.30000000000000004,sample_4\n0.19592735277930656,0.08239122693126973,95,72,Escherichia_coli_2,0.2,sample_4\n0.4760594386351128,0.2001920704664297,95,72,Escherichia_coli_3,0.2,sample_4\n0.32801320858558064,0.13793587430066648,95,72,Escherichia_coli_4,0.2,sample_4\n0.19592735277930656,0.041089967732266273,95,72,Escherichia_coli_2,0.1,sample_4\n0.4760594386351128,0.09983928754546316,95,72,Escherichia_coli_3,0.1,sample_4\n0.32801320858558064,0.06879100043594875,95,72,Escherichia_coli_4,0.1,sample_4\n'};

function download_data(key) {
    var blob = new Blob([files[key]], {type: "text/csv;charset=utf-8;"}),
        filename = key + ".csv",
        url = window.URL.createObjectURL(blob);
    if (navigator.msSaveBlob) { // IE 10+
        navigator.msSaveBlob(blob, filename);
    } else {
        var link = document.createElement("a");
        if (link.download !== undefined) { // feature detection
            // Browsers that support HTML5 download attribute
            var url = URL.createObjectURL(blob);
            link.setAttribute("href", url);
            link.setAttribute("download", filename);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
    }
}
    </script>
  </section>
  </body>
</html>