<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Tradeoff analysis</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,700&display=swap" rel="stylesheet">
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3@5.15.0/dist/d3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega@5.9.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@4.0.2"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.2.1"></script>

    <style>
    #vis {
        width: 100%;
        margin: 1em;
    }
    </style>
  </head>
  <body>
  <section class="section">
    <div class="container">
      <h1 class="title">
        Tradeoff analysis
      </h1>
      <p class="subtitle">
        The left plot shows a 2D histogram of growth rates on the log-scale
        across samples for each tradeoff value. Zero growth rates have been
        set to 1e-6 in this plot to make them visible.<br>
        The right plot denotes the fraction of taxa that grow (growth rate larger
        1e-6) in each sample. Each point denotes a single sample under a given
        tradeoff value. The red line denotes the median across all samples. You
        can click on a point to show only points from that particular sample.
        <br>
        Use the "..." menu in the
        upper right hand side to export the plot into various formats.
      </p>
    </div>
    <!-- Container for the visualization -->
    <div class="container">
    <div id="vis"></div>
    <a href="#" class="button is-primary" onclick="download_data('tradeoff')">Download as CSV...</a>

    </div>
    <script>
      // Assign the specification to a local variable vlSpec.
      var vlSpec = {
        $schema: "https://vega.github.io/schema/vega-lite/v4.json",
        hconcat: [
        {
            width: 400,
            height: 300,
            data: {
                values: [{"taxon":"Escherichia_coli_2","sample_id":"sample_1","abundance":0.4152765584,"tradeoff":"none","growth_rate":0.3645330663,"log_growth_rate":-0.4382630713},{"taxon":"Escherichia_coli_3","sample_id":"sample_1","abundance":0.2392449517,"tradeoff":"none","growth_rate":1.6140951425,"log_growth_rate":0.2079291305},{"taxon":"Escherichia_coli_4","sample_id":"sample_1","abundance":0.3454784899,"tradeoff":"none","growth_rate":0.7596821685,"log_growth_rate":-0.1193680674},{"taxon":"Escherichia_coli_2","sample_id":"sample_1","abundance":0.4152765584,"tradeoff":"1.0","growth_rate":0.9517920179,"log_growth_rate":-0.0214579417},{"taxon":"Escherichia_coli_3","sample_id":"sample_1","abundance":0.2392449517,"tradeoff":"1.0","growth_rate":0.5483368391,"log_growth_rate":-0.2609525757},{"taxon":"Escherichia_coli_4","sample_id":"sample_1","abundance":0.3454784899,"tradeoff":"1.0","growth_rate":0.7918185181,"log_growth_rate":-0.1013743457},{"taxon":"Escherichia_coli_2","sample_id":"sample_1","abundance":0.4152765584,"tradeoff":"0.9","growth_rate":0.8566128161,"log_growth_rate":-0.0672154323},{"taxon":"Escherichia_coli_3","sample_id":"sample_1","abundance":0.2392449517,"tradeoff":"0.9","growth_rate":0.4935031554,"log_growth_rate":-0.3067100662},{"taxon":"Escherichia_coli_4","sample_id":"sample_1","abundance":0.3454784899,"tradeoff":"0.9","growth_rate":0.7126366662,"log_growth_rate":-0.1471318363},{"taxon":"Escherichia_coli_2","sample_id":"sample_1","abundance":0.4152765584,"tradeoff":"0.8","growth_rate":0.7614336142,"log_growth_rate":-0.1183679548},{"taxon":"Escherichia_coli_3","sample_id":"sample_1","abundance":0.2392449517,"tradeoff":"0.8","growth_rate":0.4386694718,"log_growth_rate":-0.3578625883},{"taxon":"Escherichia_coli_4","sample_id":"sample_1","abundance":0.3454784899,"tradeoff":"0.8","growth_rate":0.6334548143,"log_growth_rate":-0.1982843588},{"taxon":"Escherichia_coli_2","sample_id":"sample_1","abundance":0.4152765584,"tradeoff":"0.7","growth_rate":0.6662544125,"log_growth_rate":-0.1763599017},{"taxon":"Escherichia_coli_3","sample_id":"sample_1","abundance":0.2392449517,"tradeoff":"0.7","growth_rate":0.3838357874,"log_growth_rate":-0.4158545358},{"taxon":"Escherichia_coli_4","sample_id":"sample_1","abundance":0.3454784899,"tradeoff":"0.7","growth_rate":0.5542729627,"log_growth_rate":-0.2562763057},{"taxon":"Escherichia_coli_2","sample_id":"sample_1","abundance":0.4152765584,"tradeoff":"0.6","growth_rate":0.5710752107,"log_growth_rate":-0.2433066913},{"taxon":"Escherichia_coli_3","sample_id":"sample_1","abundance":0.2392449517,"tradeoff":"0.6","growth_rate":0.3290021035,"log_growth_rate":-0.4828013254},{"taxon":"Escherichia_coli_4","sample_id":"sample_1","abundance":0.3454784899,"tradeoff":"0.6","growth_rate":0.4750911109,"log_growth_rate":-0.3232230953},{"taxon":"Escherichia_coli_2","sample_id":"sample_1","abundance":0.4152765584,"tradeoff":"0.5","growth_rate":0.475896009,"log_growth_rate":-0.3224879373},{"taxon":"Escherichia_coli_3","sample_id":"sample_1","abundance":0.2392449517,"tradeoff":"0.5","growth_rate":0.2741684196,"log_growth_rate":-0.5619825714},{"taxon":"Escherichia_coli_4","sample_id":"sample_1","abundance":0.3454784899,"tradeoff":"0.5","growth_rate":0.395909259,"log_growth_rate":-0.4024043414},{"taxon":"Escherichia_coli_2","sample_id":"sample_1","abundance":0.4152765584,"tradeoff":"0.4","growth_rate":0.3807168071,"log_growth_rate":-0.4193979504},{"taxon":"Escherichia_coli_3","sample_id":"sample_1","abundance":0.2392449517,"tradeoff":"0.4","growth_rate":0.2193347357,"log_growth_rate":-0.6588925843},{"taxon":"Escherichia_coli_4","sample_id":"sample_1","abundance":0.3454784899,"tradeoff":"0.4","growth_rate":0.3167274072,"log_growth_rate":-0.4993143544},{"taxon":"Escherichia_coli_2","sample_id":"sample_1","abundance":0.4152765584,"tradeoff":"0.3","growth_rate":0.2855376054,"log_growth_rate":-0.544336687},{"taxon":"Escherichia_coli_3","sample_id":"sample_1","abundance":0.2392449517,"tradeoff":"0.3","growth_rate":0.1645010518,"log_growth_rate":-0.783831321},{"taxon":"Escherichia_coli_4","sample_id":"sample_1","abundance":0.3454784899,"tradeoff":"0.3","growth_rate":0.2375455554,"log_growth_rate":-0.624253091},{"taxon":"Escherichia_coli_2","sample_id":"sample_1","abundance":0.4152765584,"tradeoff":"0.2","growth_rate":0.1903584035,"log_growth_rate":-0.7204279461},{"taxon":"Escherichia_coli_3","sample_id":"sample_1","abundance":0.2392449517,"tradeoff":"0.2","growth_rate":0.109667368,"log_growth_rate":-0.9599225794},{"taxon":"Escherichia_coli_4","sample_id":"sample_1","abundance":0.3454784899,"tradeoff":"0.2","growth_rate":0.1583637036,"log_growth_rate":-0.8003443502},{"taxon":"Escherichia_coli_2","sample_id":"sample_1","abundance":0.4152765584,"tradeoff":"0.1","growth_rate":0.0951791997,"log_growth_rate":-1.0214579512},{"taxon":"Escherichia_coli_3","sample_id":"sample_1","abundance":0.2392449517,"tradeoff":"0.1","growth_rate":0.05483369,"log_growth_rate":-1.2609525274},{"taxon":"Escherichia_coli_4","sample_id":"sample_1","abundance":0.3454784899,"tradeoff":"0.1","growth_rate":0.0791818501,"log_growth_rate":-1.1013743551},{"taxon":"Escherichia_coli_2","sample_id":"sample_2","abundance":0.2690653109,"tradeoff":"none","growth_rate":0.896315272,"log_growth_rate":-0.0475392037},{"taxon":"Escherichia_coli_3","sample_id":"sample_2","abundance":0.3809151349,"tradeoff":"none","growth_rate":0.3713999748,"log_growth_rate":-0.4301581301},{"taxon":"Escherichia_coli_4","sample_id":"sample_2","abundance":0.3500195542,"tradeoff":"none","growth_rate":1.1923927569,"log_growth_rate":0.0764193293},{"taxon":"Escherichia_coli_2","sample_id":"sample_2","abundance":0.2690653109,"tradeoff":"1.0","growth_rate":0.6330833609,"log_growth_rate":-0.1985391007},{"taxon":"Escherichia_coli_3","sample_id":"sample_2","abundance":0.3809151349,"tradeoff":"1.0","growth_rate":0.8962546417,"log_growth_rate":-0.0475685821},{"taxon":"Escherichia_coli_4","sample_id":"sample_2","abundance":0.3500195542,"tradeoff":"1.0","growth_rate":0.8235604767,"log_growth_rate":-0.0843045037},{"taxon":"Escherichia_coli_2","sample_id":"sample_2","abundance":0.2690653109,"tradeoff":"0.9","growth_rate":0.5697750252,"log_growth_rate":-0.244296591},{"taxon":"Escherichia_coli_3","sample_id":"sample_2","abundance":0.3809151349,"tradeoff":"0.9","growth_rate":0.8066291774,"log_growth_rate":-0.0933260727},{"taxon":"Escherichia_coli_4","sample_id":"sample_2","abundance":0.3500195542,"tradeoff":"0.9","growth_rate":0.7412044289,"log_growth_rate":-0.1300619943},{"taxon":"Escherichia_coli_2","sample_id":"sample_2","abundance":0.2690653109,"tradeoff":"0.8","growth_rate":0.5064666887,"log_growth_rate":-0.2954491137},{"taxon":"Escherichia_coli_3","sample_id":"sample_2","abundance":0.3809151349,"tradeoff":"0.8","growth_rate":0.7170037134,"log_growth_rate":-0.1444785951},{"taxon":"Escherichia_coli_4","sample_id":"sample_2","abundance":0.3500195542,"tradeoff":"0.8","growth_rate":0.6588483814,"log_growth_rate":-0.1812145167},{"taxon":"Escherichia_coli_2","sample_id":"sample_2","abundance":0.2690653109,"tradeoff":"0.7","growth_rate":0.4431583527,"log_growth_rate":-0.3534410607},{"taxon":"Escherichia_coli_3","sample_id":"sample_2","abundance":0.3809151349,"tradeoff":"0.7","growth_rate":0.6273782492,"log_growth_rate":-0.2024705421},{"taxon":"Escherichia_coli_4","sample_id":"sample_2","abundance":0.3500195542,"tradeoff":"0.7","growth_rate":0.5764923337,"log_growth_rate":-0.2392064636},{"taxon":"Escherichia_coli_2","sample_id":"sample_2","abundance":0.2690653109,"tradeoff":"0.6","growth_rate":0.3798500166,"log_growth_rate":-0.4203878503},{"taxon":"Escherichia_coli_3","sample_id":"sample_2","abundance":0.3809151349,"tradeoff":"0.6","growth_rate":0.537752785,"log_growth_rate":-0.2694173317},{"taxon":"Escherichia_coli_4","sample_id":"sample_2","abundance":0.3500195542,"tradeoff":"0.6","growth_rate":0.494136286,"log_growth_rate":-0.3061532533},{"taxon":"Escherichia_coli_2","sample_id":"sample_2","abundance":0.2690653109,"tradeoff":"0.5","growth_rate":0.3165416805,"log_growth_rate":-0.4995690964},{"taxon":"Escherichia_coli_3","sample_id":"sample_2","abundance":0.3809151349,"tradeoff":"0.5","growth_rate":0.4481273208,"log_growth_rate":-0.3485985778},{"taxon":"Escherichia_coli_4","sample_id":"sample_2","abundance":0.3500195542,"tradeoff":"0.5","growth_rate":0.4117802384,"log_growth_rate":-0.3853344993},{"taxon":"Escherichia_coli_2","sample_id":"sample_2","abundance":0.2690653109,"tradeoff":"0.4","growth_rate":0.2532333444,"log_growth_rate":-0.5964791093},{"taxon":"Escherichia_coli_3","sample_id":"sample_2","abundance":0.3809151349,"tradeoff":"0.4","growth_rate":0.3585018567,"log_growth_rate":-0.4455085908},{"taxon":"Escherichia_coli_4","sample_id":"sample_2","abundance":0.3500195542,"tradeoff":"0.4","growth_rate":0.3294241907,"log_growth_rate":-0.4822445124},{"taxon":"Escherichia_coli_2","sample_id":"sample_2","abundance":0.2690653109,"tradeoff":"0.3","growth_rate":0.1899250084,"log_growth_rate":-0.7214178458},{"taxon":"Escherichia_coli_3","sample_id":"sample_2","abundance":0.3809151349,"tradeoff":"0.3","growth_rate":0.2688763925,"log_growth_rate":-0.5704473275},{"taxon":"Escherichia_coli_4","sample_id":"sample_2","abundance":0.3500195542,"tradeoff":"0.3","growth_rate":0.247068143,"log_growth_rate":-0.607183249},{"taxon":"Escherichia_coli_2","sample_id":"sample_2","abundance":0.2690653109,"tradeoff":"0.2","growth_rate":0.1266166723,"log_growth_rate":-0.8975091046},{"taxon":"Escherichia_coli_3","sample_id":"sample_2","abundance":0.3809151349,"tradeoff":"0.2","growth_rate":0.1792509283,"log_growth_rate":-0.7465385866},{"taxon":"Escherichia_coli_4","sample_id":"sample_2","abundance":0.3500195542,"tradeoff":"0.2","growth_rate":0.1647120953,"log_growth_rate":-0.7832745081},{"taxon":"Escherichia_coli_2","sample_id":"sample_2","abundance":0.2690653109,"tradeoff":"0.1","growth_rate":0.0633083384,"log_growth_rate":-1.1985390852},{"taxon":"Escherichia_coli_3","sample_id":"sample_2","abundance":0.3809151349,"tradeoff":"0.1","growth_rate":0.0896254633,"log_growth_rate":-1.0475685863},{"taxon":"Escherichia_coli_4","sample_id":"sample_2","abundance":0.3500195542,"tradeoff":"0.1","growth_rate":0.0823560469,"log_growth_rate":-1.0843045078},{"taxon":"Escherichia_coli_2","sample_id":"sample_3","abundance":0.1887755102,"tradeoff":"none","growth_rate":1.1572320695,"log_growth_rate":0.0634204604},{"taxon":"Escherichia_coli_3","sample_id":"sample_3","abundance":0.6683673469,"tradeoff":"none","growth_rate":0.000001,"log_growth_rate":-6.0},{"taxon":"Escherichia_coli_4","sample_id":"sample_3","abundance":0.1428571429,"tradeoff":"none","growth_rate":4.0708004795,"log_growth_rate":0.609679817},{"taxon":"Escherichia_coli_2","sample_id":"sample_3","abundance":0.1887755102,"tradeoff":"1.0","growth_rate":0.3003831418,"log_growth_rate":-0.5223244446},{"taxon":"Escherichia_coli_3","sample_id":"sample_3","abundance":0.6683673469,"tradeoff":"1.0","growth_rate":1.0635186911,"log_growth_rate":0.0267451269},{"taxon":"Escherichia_coli_4","sample_id":"sample_3","abundance":0.1428571429,"tradeoff":"1.0","growth_rate":0.2273169722,"log_growth_rate":-0.6433681372},{"taxon":"Escherichia_coli_2","sample_id":"sample_3","abundance":0.1887755102,"tradeoff":"0.9","growth_rate":0.2703448276,"log_growth_rate":-0.5680819352},{"taxon":"Escherichia_coli_3","sample_id":"sample_3","abundance":0.6683673469,"tradeoff":"0.9","growth_rate":0.9571668219,"log_growth_rate":-0.0190123637},{"taxon":"Escherichia_coli_4","sample_id":"sample_3","abundance":0.1428571429,"tradeoff":"0.9","growth_rate":0.2045852753,"log_growth_rate":-0.6891256272},{"taxon":"Escherichia_coli_2","sample_id":"sample_3","abundance":0.1887755102,"tradeoff":"0.8","growth_rate":0.2403065134,"log_growth_rate":-0.6192344577},{"taxon":"Escherichia_coli_3","sample_id":"sample_3","abundance":0.6683673469,"tradeoff":"0.8","growth_rate":0.8508149528,"log_growth_rate":-0.0701648861},{"taxon":"Escherichia_coli_4","sample_id":"sample_3","abundance":0.1428571429,"tradeoff":"0.8","growth_rate":0.1818535779,"log_growth_rate":-0.74027815},{"taxon":"Escherichia_coli_2","sample_id":"sample_3","abundance":0.1887755102,"tradeoff":"0.7","growth_rate":0.2102681992,"log_growth_rate":-0.6772264046},{"taxon":"Escherichia_coli_3","sample_id":"sample_3","abundance":0.6683673469,"tradeoff":"0.7","growth_rate":0.7444630838,"log_growth_rate":-0.1281568331},{"taxon":"Escherichia_coli_4","sample_id":"sample_3","abundance":0.1428571429,"tradeoff":"0.7","growth_rate":0.1591218806,"log_growth_rate":-0.7982700971},{"taxon":"Escherichia_coli_2","sample_id":"sample_3","abundance":0.1887755102,"tradeoff":"0.6","growth_rate":0.1802298851,"log_growth_rate":-0.7441731941},{"taxon":"Escherichia_coli_3","sample_id":"sample_3","abundance":0.6683673469,"tradeoff":"0.6","growth_rate":0.6381112143,"log_growth_rate":-0.1951036229},{"taxon":"Escherichia_coli_4","sample_id":"sample_3","abundance":0.1428571429,"tradeoff":"0.6","growth_rate":0.1363901847,"log_growth_rate":-0.8652168825},{"taxon":"Escherichia_coli_2","sample_id":"sample_3","abundance":0.1887755102,"tradeoff":"0.5","growth_rate":0.1501915709,"log_growth_rate":-0.8233544402},{"taxon":"Escherichia_coli_3","sample_id":"sample_3","abundance":0.6683673469,"tradeoff":"0.5","growth_rate":0.5317593454,"log_growth_rate":-0.2742848689},{"taxon":"Escherichia_coli_4","sample_id":"sample_3","abundance":0.1428571429,"tradeoff":"0.5","growth_rate":0.1136584869,"log_growth_rate":-0.9443981297},{"taxon":"Escherichia_coli_2","sample_id":"sample_3","abundance":0.1887755102,"tradeoff":"0.4","growth_rate":0.1201532569,"log_growth_rate":-0.9202644527},{"taxon":"Escherichia_coli_3","sample_id":"sample_3","abundance":0.6683673469,"tradeoff":"0.4","growth_rate":0.4254074754,"log_growth_rate":-0.3711948828},{"taxon":"Escherichia_coli_4","sample_id":"sample_3","abundance":0.1428571429,"tradeoff":"0.4","growth_rate":0.0909267938,"log_growth_rate":-1.0413081226},{"taxon":"Escherichia_coli_2","sample_id":"sample_3","abundance":0.1887755102,"tradeoff":"0.3","growth_rate":0.0901149425,"log_growth_rate":-1.0452031899},{"taxon":"Escherichia_coli_3","sample_id":"sample_3","abundance":0.6683673469,"tradeoff":"0.3","growth_rate":0.3190556073,"log_growth_rate":-0.4961336184},{"taxon":"Escherichia_coli_4","sample_id":"sample_3","abundance":0.1428571429,"tradeoff":"0.3","growth_rate":0.0681950917,"log_growth_rate":-1.1662468823},{"taxon":"Escherichia_coli_2","sample_id":"sample_3","abundance":0.1887755102,"tradeoff":"0.2","growth_rate":0.0600766283,"log_growth_rate":-1.2212944496},{"taxon":"Escherichia_coli_3","sample_id":"sample_3","abundance":0.6683673469,"tradeoff":"0.2","growth_rate":0.2127037374,"log_growth_rate":-0.6722248791},{"taxon":"Escherichia_coli_4","sample_id":"sample_3","abundance":0.1428571429,"tradeoff":"0.2","growth_rate":0.0454633984,"log_growth_rate":-1.3423381039},{"taxon":"Escherichia_coli_2","sample_id":"sample_3","abundance":0.1887755102,"tradeoff":"0.1","growth_rate":0.0300383142,"log_growth_rate":-1.5223244444},{"taxon":"Escherichia_coli_3","sample_id":"sample_3","abundance":0.6683673469,"tradeoff":"0.1","growth_rate":0.1063518689,"log_growth_rate":-0.9732548738},{"taxon":"Escherichia_coli_4","sample_id":"sample_3","abundance":0.1428571429,"tradeoff":"0.1","growth_rate":0.022731698,"log_growth_rate":-1.6433681224},{"taxon":"Escherichia_coli_2","sample_id":"sample_4","abundance":0.4741322855,"tradeoff":"none","growth_rate":0.3470543287,"log_growth_rate":-0.4596025344},{"taxon":"Escherichia_coli_3","sample_id":"sample_4","abundance":0.2743942371,"tradeoff":"none","growth_rate":2.1793327866,"log_growth_rate":0.3383235526},{"taxon":"Escherichia_coli_4","sample_id":"sample_4","abundance":0.2514734774,"tradeoff":"none","growth_rate":0.1489380949,"log_growth_rate":-0.8269942056},{"taxon":"Escherichia_coli_2","sample_id":"sample_4","abundance":0.4741322855,"tradeoff":"1.0","growth_rate":1.0439632999,"log_growth_rate":0.0186852315},{"taxon":"Escherichia_coli_3","sample_id":"sample_4","abundance":0.2743942371,"tradeoff":"1.0","growth_rate":0.6041721308,"log_growth_rate":-0.2188393117},{"taxon":"Escherichia_coli_4","sample_id":"sample_4","abundance":0.2514734774,"tradeoff":"1.0","growth_rate":0.5537042919,"log_growth_rate":-0.2567221102},{"taxon":"Escherichia_coli_2","sample_id":"sample_4","abundance":0.4741322855,"tradeoff":"0.9","growth_rate":0.93956697,"log_growth_rate":-0.027072259},{"taxon":"Escherichia_coli_3","sample_id":"sample_4","abundance":0.2743942371,"tradeoff":"0.9","growth_rate":0.5437549177,"log_growth_rate":-0.2645968023},{"taxon":"Escherichia_coli_4","sample_id":"sample_4","abundance":0.2514734774,"tradeoff":"0.9","growth_rate":0.4983338625,"log_growth_rate":-0.3024796009},{"taxon":"Escherichia_coli_2","sample_id":"sample_4","abundance":0.4741322855,"tradeoff":"0.8","growth_rate":0.83517064,"log_growth_rate":-0.0782247815},{"taxon":"Escherichia_coli_3","sample_id":"sample_4","abundance":0.2743942371,"tradeoff":"0.8","growth_rate":0.4833377046,"log_growth_rate":-0.3157493247},{"taxon":"Escherichia_coli_4","sample_id":"sample_4","abundance":0.2514734774,"tradeoff":"0.8","growth_rate":0.4429634334,"log_growth_rate":-0.3536321233},{"taxon":"Escherichia_coli_2","sample_id":"sample_4","abundance":0.4741322855,"tradeoff":"0.7","growth_rate":0.73077431,"log_growth_rate":-0.1362167285},{"taxon":"Escherichia_coli_3","sample_id":"sample_4","abundance":0.2743942371,"tradeoff":"0.7","growth_rate":0.4229204916,"log_growth_rate":-0.3737412717},{"taxon":"Escherichia_coli_4","sample_id":"sample_4","abundance":0.2514734774,"tradeoff":"0.7","growth_rate":0.3875930042,"log_growth_rate":-0.4116240703},{"taxon":"Escherichia_coli_2","sample_id":"sample_4","abundance":0.4741322855,"tradeoff":"0.6","growth_rate":0.62637798,"log_growth_rate":-0.2031635181},{"taxon":"Escherichia_coli_3","sample_id":"sample_4","abundance":0.2743942371,"tradeoff":"0.6","growth_rate":0.3625032785,"log_growth_rate":-0.4406880613},{"taxon":"Escherichia_coli_4","sample_id":"sample_4","abundance":0.2514734774,"tradeoff":"0.6","growth_rate":0.332222575,"log_growth_rate":-0.4785708599},{"taxon":"Escherichia_coli_2","sample_id":"sample_4","abundance":0.4741322855,"tradeoff":"0.5","growth_rate":0.52198165,"log_growth_rate":-0.2823447641},{"taxon":"Escherichia_coli_3","sample_id":"sample_4","abundance":0.2743942371,"tradeoff":"0.5","growth_rate":0.3020860654,"log_growth_rate":-0.5198693074},{"taxon":"Escherichia_coli_4","sample_id":"sample_4","abundance":0.2514734774,"tradeoff":"0.5","growth_rate":0.2768521459,"log_growth_rate":-0.557752106},{"taxon":"Escherichia_coli_2","sample_id":"sample_4","abundance":0.4741322855,"tradeoff":"0.4","growth_rate":0.4175853197,"log_growth_rate":-0.3792547774},{"taxon":"Escherichia_coli_3","sample_id":"sample_4","abundance":0.2743942371,"tradeoff":"0.4","growth_rate":0.2416688523,"log_growth_rate":-0.6167793205},{"taxon":"Escherichia_coli_4","sample_id":"sample_4","abundance":0.2514734774,"tradeoff":"0.4","growth_rate":0.2214817173,"log_growth_rate":-0.6546621178},{"taxon":"Escherichia_coli_2","sample_id":"sample_4","abundance":0.4741322855,"tradeoff":"0.3","growth_rate":0.31318899,"log_growth_rate":-0.5041935138},{"taxon":"Escherichia_coli_3","sample_id":"sample_4","abundance":0.2743942371,"tradeoff":"0.3","growth_rate":0.1812516392,"log_growth_rate":-0.741718057},{"taxon":"Escherichia_coli_4","sample_id":"sample_4","abundance":0.2514734774,"tradeoff":"0.3","growth_rate":0.1661112875,"log_growth_rate":-0.7796008555},{"taxon":"Escherichia_coli_2","sample_id":"sample_4","abundance":0.4741322855,"tradeoff":"0.2","growth_rate":0.20879266,"log_growth_rate":-0.6802847728},{"taxon":"Escherichia_coli_3","sample_id":"sample_4","abundance":0.2743942371,"tradeoff":"0.2","growth_rate":0.1208344262,"log_growth_rate":-0.9178093161},{"taxon":"Escherichia_coli_4","sample_id":"sample_4","abundance":0.2514734774,"tradeoff":"0.2","growth_rate":0.1107408584,"log_growth_rate":-0.9556921145},{"taxon":"Escherichia_coli_2","sample_id":"sample_4","abundance":0.4741322855,"tradeoff":"0.1","growth_rate":0.1043963292,"log_growth_rate":-0.981314772},{"taxon":"Escherichia_coli_3","sample_id":"sample_4","abundance":0.2743942371,"tradeoff":"0.1","growth_rate":0.0604172129,"log_growth_rate":-1.2188393128},{"taxon":"Escherichia_coli_4","sample_id":"sample_4","abundance":0.2514734774,"tradeoff":"0.1","growth_rate":0.0553704309,"log_growth_rate":-1.2567220965}]
            },
            mark: {
                type: "rect",
                tooltip: true
            },
            encoding: {
                y: {
                    field: "tradeoff",
                    type: "nominal"
                },
                x: {
                    bin: {maxbins: 10},
                    field: "log_growth_rate",
                    type: "quantitative",
                    axis: {title: "log10(growth rate [1/h])", grid: false}
                },
                color: {
                    aggregate: "count",
                    type: "quantitative",
                    scale: {scheme: "viridis"},
                    axis: {title: "no. taxa"}
                }
            }
        },
        {
            width: 400,
            height: 300,
            data: {
                values: [{"tradeoff":"0.1","sample_id":"sample_1","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.1","sample_id":"sample_2","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.1","sample_id":"sample_3","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.1","sample_id":"sample_4","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.2","sample_id":"sample_1","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.2","sample_id":"sample_2","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.2","sample_id":"sample_3","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.2","sample_id":"sample_4","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.3","sample_id":"sample_1","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.3","sample_id":"sample_2","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.3","sample_id":"sample_3","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.3","sample_id":"sample_4","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.4","sample_id":"sample_1","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.4","sample_id":"sample_2","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.4","sample_id":"sample_3","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.4","sample_id":"sample_4","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.5","sample_id":"sample_1","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.5","sample_id":"sample_2","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.5","sample_id":"sample_3","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.5","sample_id":"sample_4","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.6","sample_id":"sample_1","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.6","sample_id":"sample_2","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.6","sample_id":"sample_3","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.6","sample_id":"sample_4","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.7","sample_id":"sample_1","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.7","sample_id":"sample_2","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.7","sample_id":"sample_3","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.7","sample_id":"sample_4","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.8","sample_id":"sample_1","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.8","sample_id":"sample_2","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.8","sample_id":"sample_3","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.8","sample_id":"sample_4","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.9","sample_id":"sample_1","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.9","sample_id":"sample_2","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.9","sample_id":"sample_3","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"0.9","sample_id":"sample_4","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"1.0","sample_id":"sample_1","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"1.0","sample_id":"sample_2","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"1.0","sample_id":"sample_3","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"1.0","sample_id":"sample_4","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"none","sample_id":"sample_1","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"none","sample_id":"sample_2","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0},{"tradeoff":"none","sample_id":"sample_3","n_taxa":3.0,"n_growing":2.0,"fraction_growing":0.6666666667},{"tradeoff":"none","sample_id":"sample_4","n_taxa":3.0,"n_growing":3.0,"fraction_growing":1.0}]
            },
            layer: [{
            selection: {
                pts: {type: "single", fields: ["sample_id"]}
            },
            mark: {
                type: "point",
                filled: true,
                size: 20,
                tooltip: {content: "data"}
            },
            encoding: {
                y: {
                    field: "fraction_growing",
                    type: "quantitative",
                    axis: {title: "fraction of taxa growing"}
                },
                x: {
                    field: "tradeoff",
                    type: "nominal",
                    axis: {title: "tradeoff"}
                },
                color: {
                    condition: {
                        selection: "pts",
                        value: "blue"
                    },
                    value: "lightgrey"
                },
                opacity: {
                    condition: {
                        selection: "pts",
                        value: 0.8
                    },
                    value: 0.2
                }
            }
            }, {
            mark: "line",
            encoding: {
                y: {
                    field: "fraction_growing",
                    type: "quantitative",
                    aggregate: "mean",
                    axis: {title: "fraction of taxa growing"}
                },
                x: {
                    field: "tradeoff",
                    type: "nominal",
                    axis: {title: "tradeoff"}
                },
                color: {value: "orange"}
            }
            }]
            }]
      };

      // Embed the visualization in the container with id `vis`
      vegaEmbed("#vis", vlSpec, {renderer: "svg"}).then(function(r) {
        svg = d3.select("#vis svg");
        svg.attr("width", "100%").attr("height", "auto");
      });

      files = {'tradeoff': 'abundance,growth_rate,reactions,metabolites,taxon,tradeoff,sample_id\n0.41527655838454786,0.364533066330102,95,72,Escherichia_coli_2,,sample_1\n0.23924495171202811,1.6140951424647096,95,72,Escherichia_coli_3,,sample_1\n0.34547848990342406,0.759682168498714,95,72,Escherichia_coli_4,,sample_1\n0.41527655838454786,0.9517920179169871,95,72,Escherichia_coli_2,1.0,sample_1\n0.23924495171202811,0.5483368391459771,95,72,Escherichia_coli_3,1.0,sample_1\n0.34547848990342406,0.7918185180635374,95,72,Escherichia_coli_4,1.0,sample_1\n0.41527655838454786,0.8566128160924081,95,72,Escherichia_coli_2,0.9,sample_1\n0.23924495171202811,0.49350315535312617,95,72,Escherichia_coli_3,0.9,sample_1\n0.34547848990342406,0.7126366662456405,95,72,Escherichia_coli_4,0.9,sample_1\n0.41527655838454786,0.7614336141936079,95,72,Escherichia_coli_2,0.8,sample_1\n0.23924495171202811,0.43866947175023957,95,72,Escherichia_coli_3,0.8,sample_1\n0.34547848990342406,0.6334548143409987,95,72,Escherichia_coli_4,0.8,sample_1\n0.41527655838454786,0.6662544125498935,95,72,Escherichia_coli_2,0.7000000000000001,sample_1\n0.23924495171202811,0.38383578736231455,95,72,Escherichia_coli_3,0.7000000000000001,sample_1\n0.34547848990342406,0.5542729626627083,95,72,Escherichia_coli_4,0.7000000000000001,sample_1\n0.41527655838454786,0.5710752107499717,95,72,Escherichia_coli_2,0.6,sample_1\n0.23924495171202811,0.3290021034732676,95,72,Escherichia_coli_3,0.6,sample_1\n0.34547848990342406,0.47509111085059724,95,72,Escherichia_coli_4,0.6,sample_1\n0.41527655838454786,0.47589600895854633,95,72,Escherichia_coli_2,0.5,sample_1\n0.23924495171202811,0.27416841957032645,95,72,Escherichia_coli_3,0.5,sample_1\n0.34547848990342406,0.3959092590399273,95,72,Escherichia_coli_4,0.5,sample_1\n0.41527655838454786,0.3807168071446489,95,72,Escherichia_coli_2,0.4,sample_1\n0.23924495171202811,0.2193347357368452,95,72,Escherichia_coli_3,0.4,sample_1\n0.34547848990342406,0.31672740721034887,95,72,Escherichia_coli_4,0.4,sample_1\n0.41527655838454786,0.2855376053653091,95,72,Escherichia_coli_2,0.30000000000000004,sample_1\n0.23924495171202811,0.16450105176353783,95,72,Escherichia_coli_3,0.30000000000000004,sample_1\n0.34547848990342406,0.2375455554196703,95,72,Escherichia_coli_4,0.30000000000000004,sample_1\n0.41527655838454786,0.1903584035316385,95,72,Escherichia_coli_2,0.2,sample_1\n0.23924495171202811,0.10966736799153173,95,72,Escherichia_coli_3,0.2,sample_1\n0.34547848990342406,0.1583637035637787,95,72,Escherichia_coli_4,0.2,sample_1\n0.41527655838454786,0.09517919971265201,95,72,Escherichia_coli_2,0.1,sample_1\n0.23924495171202811,0.054833690013558076,95,72,Escherichia_coli_3,0.1,sample_1\n0.34547848990342406,0.07918185008912283,95,72,Escherichia_coli_4,0.1,sample_1\n0.2690653109112241,0.8963152720477991,95,72,Escherichia_coli_2,,sample_2\n0.3809151349237388,0.37139997476842856,95,72,Escherichia_coli_3,,sample_2\n0.35001955416503716,1.192392756879047,95,72,Escherichia_coli_4,,sample_2\n0.2690653109112241,0.6330833609142865,95,72,Escherichia_coli_2,1.0,sample_2\n0.3809151349237388,0.8962546416958405,95,72,Escherichia_coli_3,1.0,sample_2\n0.35001955416503716,0.823560476736653,95,72,Escherichia_coli_4,1.0,sample_2\n0.2690653109112241,0.5697750252299613,95,72,Escherichia_coli_2,0.9,sample_2\n0.3809151349237388,0.8066291773865893,95,72,Escherichia_coli_3,0.9,sample_2\n0.35001955416503716,0.7412044289131967,95,72,Escherichia_coli_4,0.9,sample_2\n0.2690653109112241,0.506466688727422,95,72,Escherichia_coli_2,0.8,sample_2\n0.3809151349237388,0.7170037133671433,95,72,Escherichia_coli_3,0.8,sample_2\n0.35001955416503716,0.6588483813897457,95,72,Escherichia_coli_4,0.8,sample_2\n0.2690653109112241,0.4431583526517449,95,72,Escherichia_coli_2,0.7000000000000001,sample_2\n0.3809151349237388,0.6273782491929697,95,72,Escherichia_coli_3,0.7000000000000001,sample_2\n0.35001955416503716,0.5764923337113974,95,72,Escherichia_coli_4,0.7000000000000001,sample_2\n0.2690653109112241,0.3798500165666059,95,72,Escherichia_coli_2,0.6,sample_2\n0.3809151349237388,0.5377527850194749,95,72,Escherichia_coli_3,0.6,sample_2\n0.35001955416503716,0.4941362860333719,95,72,Escherichia_coli_4,0.6,sample_2\n0.2690653109112241,0.31654168047721987,95,72,Escherichia_coli_2,0.5,sample_2\n0.3809151349237388,0.44812732084495954,95,72,Escherichia_coli_3,0.5,sample_2\n0.35001955416503716,0.41178023835995814,95,72,Escherichia_coli_4,0.5,sample_2\n0.2690653109112241,0.25323334442132467,95,72,Escherichia_coli_2,0.4,sample_2\n0.3809151349237388,0.3585018566666794,95,72,Escherichia_coli_3,0.4,sample_2\n0.35001955416503716,0.32942419066784273,95,72,Escherichia_coli_4,0.4,sample_2\n0.2690653109112241,0.1899250083766814,95,72,Escherichia_coli_2,0.30000000000000004,sample_2\n0.3809151349237388,0.2688763924705763,95,72,Escherichia_coli_3,0.30000000000000004,sample_2\n0.35001955416503716,0.24706814298464574,95,72,Escherichia_coli_4,0.30000000000000004,sample_2\n0.2690653109112241,0.12661667232949894,95,72,Escherichia_coli_2,0.2,sample_2\n0.3809151349237388,0.17925092828631753,95,72,Escherichia_coli_3,0.2,sample_2\n0.35001955416503716,0.1647120952924992,95,72,Escherichia_coli_4,0.2,sample_2\n0.2690653109112241,0.06330833835052342,95,72,Escherichia_coli_2,0.1,sample_2\n0.3809151349237388,0.08962546329902983,95,72,Escherichia_coli_3,0.1,sample_2\n0.35001955416503716,0.08235604688696811,95,72,Escherichia_coli_4,0.1,sample_2\n0.18877551020408165,1.1572320695405691,95,72,Escherichia_coli_2,,sample_3\n0.6683673469387754,0.0,95,72,Escherichia_coli_3,,sample_3\n0.14285714285714285,4.070800479535711,95,72,Escherichia_coli_4,,sample_3\n0.18877551020408165,0.3003831417712122,95,72,Escherichia_coli_2,1.0,sample_3\n0.6683673469387754,1.0635186910802794,95,72,Escherichia_coli_3,1.0,sample_3\n0.14285714285714285,0.22731697224819705,95,72,Escherichia_coli_4,1.0,sample_3\n0.18877551020408165,0.2703448275854105,95,72,Escherichia_coli_2,0.9,sample_3\n0.6683673469387754,0.9571668219238468,95,72,Escherichia_coli_3,0.9,sample_3\n0.14285714285714285,0.20458527526286316,95,72,Escherichia_coli_4,0.9,sample_3\n0.18877551020408165,0.24030651341467119,95,72,Escherichia_coli_2,0.8,sample_3\n0.6683673469387754,0.8508149528456233,95,72,Escherichia_coli_3,0.8,sample_3\n0.14285714285714285,0.18185357788937245,95,72,Escherichia_coli_4,0.8,sample_3\n0.18877551020408165,0.21026819923830528,95,72,Escherichia_coli_2,0.7000000000000001,sample_3\n0.6683673469387754,0.7444630837513959,95,72,Escherichia_coli_3,0.7000000000000001,sample_3\n0.14285714285714285,0.15912188059905863,95,72,Escherichia_coli_4,0.7000000000000001,sample_3\n0.18877551020408165,0.18022988513021423,95,72,Escherichia_coli_2,0.6,sample_3\n0.6683673469387754,0.638111214342836,95,72,Escherichia_coli_3,0.6,sample_3\n0.14285714285714285,0.13639018469147246,95,72,Escherichia_coli_4,0.6,sample_3\n0.18877551020408165,0.15019157090813193,95,72,Escherichia_coli_2,0.5,sample_3\n0.6683673469387754,0.5317593453594656,95,72,Escherichia_coli_3,0.5,sample_3\n0.14285714285714285,0.1136584869447732,95,72,Escherichia_coli_4,0.5,sample_3\n0.18877551020408165,0.12015325686506344,95,72,Escherichia_coli_2,0.4,sample_3\n0.6683673469387754,0.4254074753559647,95,72,Escherichia_coli_3,0.4,sample_3\n0.14285714285714285,0.09092679376369019,95,72,Escherichia_coli_4,0.4,sample_3\n0.18877551020408165,0.09011494253218838,95,72,Escherichia_coli_2,0.30000000000000004,sample_3\n0.6683673469387754,0.31905560731711047,95,72,Escherichia_coli_3,0.30000000000000004,sample_3\n0.14285714285714285,0.06819509170603942,95,72,Escherichia_coli_4,0.30000000000000004,sample_3\n0.18877551020408165,0.06007662827298986,95,72,Escherichia_coli_2,0.2,sample_3\n0.6683673469387754,0.21270373739801124,95,72,Escherichia_coli_3,0.2,sample_3\n0.14285714285714285,0.04546339838471108,95,72,Escherichia_coli_4,0.2,sample_3\n0.18877551020408165,0.030038314197069038,95,72,Escherichia_coli_2,0.1,sample_3\n0.6683673469387754,0.10635186893672954,95,72,Escherichia_coli_3,0.1,sample_3\n0.14285714285714285,0.022731697999939956,95,72,Escherichia_coli_4,0.1,sample_3\n0.47413228552717746,0.34705432868887814,95,72,Escherichia_coli_2,,sample_4\n0.27439423706614274,2.1793327866148826,95,72,Escherichia_coli_3,,sample_4\n0.2514734774066798,0.1489380948897006,95,72,Escherichia_coli_4,,sample_4\n0.47413228552717746,1.043963299895385,95,72,Escherichia_coli_2,1.0,sample_4\n0.27439423706614274,0.604172130790524,95,72,Escherichia_coli_3,1.0,sample_4\n0.2514734774066798,0.5537042918607813,95,72,Escherichia_coli_4,1.0,sample_4\n0.47413228552717746,0.9395669699781757,95,72,Escherichia_coli_2,0.9,sample_4\n0.27439423706614274,0.5437549177113985,95,72,Escherichia_coli_3,0.9,sample_4\n0.2514734774066798,0.49833386254030565,95,72,Escherichia_coli_4,0.9,sample_4\n0.47413228552717746,0.8351706399916315,95,72,Escherichia_coli_2,0.8,sample_4\n0.27439423706614274,0.48333770461815784,95,72,Escherichia_coli_3,0.8,sample_4\n0.2514734774066798,0.4429634333645825,95,72,Escherichia_coli_4,0.8,sample_4\n0.47413228552717746,0.7307743099777779,95,72,Escherichia_coli_2,0.7000000000000001,sample_4\n0.27439423706614274,0.42292049155450895,95,72,Escherichia_coli_3,0.7000000000000001,sample_4\n0.2514734774066798,0.3875930042081496,95,72,Escherichia_coli_4,0.7000000000000001,sample_4\n0.47413228552717746,0.626377979986051,95,72,Escherichia_coli_2,0.6,sample_4\n0.27439423706614274,0.36250327847007396,95,72,Escherichia_coli_3,0.6,sample_4\n0.2514734774066798,0.33222257503088065,95,72,Escherichia_coli_4,0.6,sample_4\n0.47413228552717746,0.5219816499891561,95,72,Escherichia_coli_2,0.5,sample_4\n0.27439423706614274,0.30208606539421223,95,72,Escherichia_coli_3,0.5,sample_4\n0.2514734774066798,0.27685214585351314,95,72,Escherichia_coli_4,0.5,sample_4\n0.47413228552717746,0.41758531972698726,95,72,Escherichia_coli_2,0.4,sample_4\n0.27439423706614274,0.2416688522560019,95,72,Escherichia_coli_3,0.4,sample_4\n0.2514734774066798,0.22148171726116742,95,72,Escherichia_coli_4,0.4,sample_4\n0.47413228552717746,0.3131889899882426,95,72,Escherichia_coli_2,0.30000000000000004,sample_4\n0.27439423706614274,0.1812516392322013,95,72,Escherichia_coli_3,0.30000000000000004,sample_4\n0.2514734774066798,0.16611128752811274,95,72,Escherichia_coli_4,0.30000000000000004,sample_4\n0.47413228552717746,0.20879265997858318,95,72,Escherichia_coli_2,0.2,sample_4\n0.27439423706614274,0.12083442615564903,95,72,Escherichia_coli_3,0.2,sample_4\n0.2514734774066798,0.11074085837707366,95,72,Escherichia_coli_4,0.2,sample_4\n0.47413228552717746,0.10439632915523596,95,72,Escherichia_coli_2,0.1,sample_4\n0.27439423706614274,0.06041721292045435,95,72,Escherichia_coli_3,0.1,sample_4\n0.2514734774066798,0.05537043093280099,95,72,Escherichia_coli_4,0.1,sample_4\n'};

function download_data(key) {
    var blob = new Blob([files[key]], {type: "text/csv;charset=utf-8;"}),
        filename = key + ".csv",
        url = window.URL.createObjectURL(blob);
    if (navigator.msSaveBlob) { // IE 10+
        navigator.msSaveBlob(blob, filename);
    } else {
        var link = document.createElement("a");
        if (link.download !== undefined) { // feature detection
            // Browsers that support HTML5 download attribute
            var url = URL.createObjectURL(blob);
            link.setAttribute("href", url);
            link.setAttribute("download", filename);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
    }
}
    </script>
  </section>
  </body>
</html>